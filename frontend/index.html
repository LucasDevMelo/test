<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profectus Support Demo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&family=Space+Grotesk:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/static/style.css" />
  </head>
  <body>
    <main class="app">
      <header class="hero">
        <div class="hero-text">
          <p class="eyebrow">Profectus AI</p>
          <h1>Support Agent</h1>
          <p class="subtitle">
            Evidence-first retrieval over Help Center docs and tutorials.
          </p>
          <p class="footer-hint">Answers cite source URLs when available. Escalations are logged for review.</p>
        </div>
      </header>

      <aside class="status-card">
        <div class="status-row">
          <span id="status-dot" class="status-dot"></span>
          <span id="status">Connecting...</span>
        </div>
        <div class="status-meta">
          <span class="label">Session</span>
          <code id="session-id">new</code>
        </div>
          <label class="toggle">
            <input id="toggle-tools" type="checkbox" />
            <span>Show details</span>
          </label>
          <label class="toggle">
            <input id="fast-mode" type="checkbox" />
            <span>Fast mode</span>
          </label>
          <button id="new-session" class="ghost-button" type="button">
            New Session
          </button>
        <button id="immersive-toggle" class="ghost-button immersive-toggle" type="button" title="Toggle immersive mode">
          <svg class="icon-expand" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/>
          </svg>
          <svg class="icon-collapse" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 14h6v6M20 10h-6V4M14 10l7-7M4 14l7 7"/>
          </svg>
        </button>
      </aside>

      <aside class="rag-info-card" id="rag-info-card">
        <button class="rag-info-header" id="rag-info-toggle" type="button">
          <span class="rag-info-title">
            <svg class="rag-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
              <polyline points="14 2 14 8 20 8"/>
              <line x1="16" y1="13" x2="8" y2="13"/>
              <line x1="16" y1="17" x2="8" y2="17"/>
              <polyline points="10 9 9 9 8 9"/>
            </svg>
            Knowledge Base
          </span>
          <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </button>
        <div class="rag-info-content" id="rag-info-content">
          <div class="rag-info-summary" id="rag-info-summary">Loading...</div>
          <div class="rag-info-sources" id="rag-info-sources"></div>
        </div>
      </aside>

      <section id="chat" class="chat"></section>
      <form id="chat-form" class="composer">
        <input
          id="message"
          type="text"
          placeholder="Ask about MT5, password resets, or building a bot..."
          autocomplete="off"
        />
        <button type="submit">Send</button>
      </form>
      <footer class="footer">
        <div class="footer-logos">
          <a href="https://www.aisoamsterdam.com/" target="_blank" rel="noopener" class="footer-brand" title="AISO">
            <img src="/static/logos/aiso_logo.png" alt="AISO" class="footer-brand-logo">
          </a>
          <a href="https://www.profectus.ai/" target="_blank" rel="noopener" class="footer-brand" title="Profectus">
            <img src="/static/logos/profectus_logo.jpg" alt="Profectus" class="footer-brand-logo">
          </a>
        </div>
        <button id="about-btn" class="about-link">About</button>
      </footer>
    </main>

    <!-- About Modal -->
    <div id="about-modal" class="about-modal">
      <div class="about-content">
        <button class="about-close" aria-label="Close">&times;</button>

        <p class="about-built">Built by</p>

        <!-- AISO Section -->
        <div class="about-section">
          <div class="about-brand">
            <img src="/static/logos/aiso_logo.png" alt="AISO" class="about-logo">
            <span class="about-name">AISO</span>
          </div>
          <p class="about-desc">Student AI community at Amsterdam University of Applied Sciences</p>
          <div class="about-links">
            <a href="https://www.aisoamsterdam.com/" target="_blank" rel="noopener">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
              </svg>
              aisoamsterdam.com
            </a>
            <a href="https://www.instagram.com/aiso.nl/" target="_blank" rel="noopener">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/>
              </svg>
              @aiso.nl
            </a>
          </div>
        </div>

        <p class="about-for">for</p>

        <!-- Profectus Section -->
        <div class="about-section">
          <div class="about-brand">
            <img src="/static/logos/profectus_logo.jpg" alt="Profectus" class="about-logo">
            <span class="about-name">Profectus</span>
          </div>
          <p class="about-desc">Algorithmic trading platform for automated strategy development</p>
          <div class="about-links">
            <a href="https://www.profectus.ai/" target="_blank" rel="noopener">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
              </svg>
              profectus.ai
            </a>
            <a href="https://docs.profectus.ai/en/" target="_blank" rel="noopener">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/>
              </svg>
              docs.profectus.ai
            </a>
            <a href="https://www.youtube.com/@profectusai" target="_blank" rel="noopener">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
              </svg>
              @profectusai
            </a>
          </div>
        </div>

        <p class="about-team">Vlad • Celine • Hannes • Mateusz • <a href="https://jiaq.ch" target="_blank" rel="noopener" class="team-link">Jiaqi</a></p>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="/static/vendor/semidown.js"></script>
    <script src="/static/app.js"></script>
  </body>
</html>
